{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(userInput) {\n  const keyApi = '46450573-9b5e41256c0ad0f1dd9121c30';\n  let url = `https://pixabay.com/api/?key=${keyApi}&q=${userInput}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    } else {\n      return response.json();\n    }\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst div = document.querySelector('.wrapp');\n\nconst list = document.querySelector('.list');\n\nexport function renderImages(data, lightbox) {\n  if (data.total === 0) {\n    iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      messageSize: 18,\n      messageLineHeight: 30,\n      position: 'topRight',\n    });\n    hideLoading();\n  } else {\n    hideLoading();\n    const smallImg = data.hits\n      .map(\n        item =>\n          `<li class=\"list-item\"><a href=\"${item.largeImageURL}\" data-source=\"${item.largeImageURL}\"><img src=\"${item.webformatURL}\" alt=\"${item.tags}\" /></a>\n          <div class=\"wrapp-items\">\n          <div class=\"info-item\"><p class=\"bold\">Likes</p>\n          <p>${item.likes}</p>\n          </div>\n          <div class=\"info-item\"><p class=\"bold\">Views</p>\n          <p>${item.views}</p>\n          </div>\n          <div class=\"info-item\"><p class=\"bold\">Comments</p>\n          <p>${item.comments}</p>\n          </div>\n          <div class=\"info-item\"><p class=\"bold\">Downloads</p>\n          <p>${item.downloads}</p>\n          </div>\n\n          </div></li>`\n      )\n      .join('');\n    list.innerHTML = smallImg;\n\n    lightbox.refresh();\n  }\n}\n\nexport function showLoading() {\n  div.style.display = 'block';\n}\n\nexport function hideLoading() {\n  div.style.display = 'none';\n}\n","import SimpleLightbox from 'simplelightbox';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchImages } from './js/pixabay-api.js';\nimport {\n  renderImages,\n  showLoading,\n  hideLoading,\n} from './js/render-functions.js';\n\nlet lightbox = new SimpleLightbox('.list a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n  loop: true,\n});\n\nconst form = document.querySelector('.form');\n\nlet userText;\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  if (userText) {\n    showLoading();\n\n    fetchImages(userText)\n      .then(data => renderImages(data, lightbox))\n      .catch(error => {\n        console.error(error);\n        hideLoading();\n      });\n  }\n});\nform.addEventListener('input', event => {\n  if (event.target.value.trim()) {\n    userText = event.target.value.trim();\n  } else {\n    userText = undefined;\n  }\n});\n"],"names":["fetchImages","userInput","url","response","div","list","renderImages","data","lightbox","iziToast","hideLoading","smallImg","item","showLoading","SimpleLightbox","form","userText","event","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAW,CAErC,IAAIC,EAAM,qEAA4CD,CAAS,2DAE/D,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAKA,EAAS,GAGZ,OAAOA,EAAS,OAFhB,MAAM,IAAI,MAAMA,EAAS,MAAM,CAIrC,CAAG,CACH,CCJA,MAAMC,EAAM,SAAS,cAAc,QAAQ,EAErCC,EAAO,SAAS,cAAc,OAAO,EAEpC,SAASC,EAAaC,EAAMC,EAAU,CAC3C,GAAID,EAAK,QAAU,EACjBE,EAAS,MAAM,CACb,QACE,2EACF,YAAa,GACb,kBAAmB,GACnB,SAAU,UAChB,CAAK,EACDC,QACK,CACLA,IACA,MAAMC,EAAWJ,EAAK,KACnB,IACCK,GACE,kCAAkCA,EAAK,aAAa,kBAAkBA,EAAK,aAAa,eAAeA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA,eAGtIA,EAAK,KAAK;AAAA;AAAA;AAAA,eAGVA,EAAK,KAAK;AAAA;AAAA;AAAA,eAGVA,EAAK,QAAQ;AAAA;AAAA;AAAA,eAGbA,EAAK,SAAS;AAAA;AAAA;AAAA,sBAItB,EACA,KAAK,EAAE,EACVP,EAAK,UAAYM,EAEjBH,EAAS,QAAO,CACjB,CACH,CAEO,SAASK,GAAc,CAC5BT,EAAI,MAAM,QAAU,OACtB,CAEO,SAASM,GAAc,CAC5BN,EAAI,MAAM,QAAU,MACtB,CC7CA,IAAII,EAAW,IAAIM,EAAe,UAAW,CAC3C,SAAU,GACV,aAAc,MACd,aAAc,IACd,KAAM,EACR,CAAC,EAED,MAAMC,EAAO,SAAS,cAAc,OAAO,EAE3C,IAAIC,EAEJD,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAc,EAEhBD,IACFH,IAEAb,EAAYgB,CAAQ,EACjB,KAAKT,GAAQD,EAAaC,EAAMC,CAAQ,CAAC,EACzC,MAAMU,GAAS,CACd,QAAQ,MAAMA,CAAK,EACnBR,GACR,CAAO,EAEP,CAAC,EACDK,EAAK,iBAAiB,QAASE,GAAS,CAClCA,EAAM,OAAO,MAAM,KAAI,EACzBD,EAAWC,EAAM,OAAO,MAAM,KAAI,EAElCD,EAAW,MAEf,CAAC"}